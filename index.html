<!doctype html>
<html>
<head>
<title>Baisi Path</title>
</head>
    
<body>
    

    <textarea id="srcCodeData" rows="40" cols="40">
       Add Source Code Here
    </textarea>

    <button type="button" onclick="sendPostRequest()">
        Create Graph
    </button>

    <script >
        
        var tree;
        function sendPostRequest(){
           
           var value  = document.getElementById("srcCodeData").value;
           var data = { "data" : value};

           value = JSON.stringify(data);

           // Do Post
           var http = new XMLHttpRequest();
           var url = "http://localhost:3000/ast";
           http.open("POST", url, true);
           
           http.setRequestHeader('Content-type','application/json; charset=utf-8');

           http.onreadystatechange = function(){

                    if(http.readyState == 4 && http.status == 200 ){
                        renderAST( http.responseText );
                    }
           }
          
           http.send(value);
        }

        function renderAST(tree){
                console.log(tree);
        }

    </script>
</body>
</html>